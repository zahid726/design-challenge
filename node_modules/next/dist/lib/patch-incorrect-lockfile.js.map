{"version":3,"sources":["../../lib/patch-incorrect-lockfile.ts"],"names":["patchIncorrectLockfile","Log","dir","lockfilePath","findUp","cwd","content","promises","readFile","lockfileParsed","JSON","parse","packageKeys","Object","keys","dependencies","foundSwcPkgs","Set","nextPkg","packages","nextVersion","version","expectedSwcPkgs","optionalDependencies","filter","pkg","startsWith","forEach","pkgKey","swcIndex","indexOf","add","substring","size","length","warn","has","res","fetch","ok","Error","status","data","json","versions","resolved","dist","tarball","integrity","optional","cpu","os","engines","writeFile","stringify","err","error","console"],"mappings":"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"}